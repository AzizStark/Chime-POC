(this["webpackJsonpchime-poc"]=this["webpackJsonpchime-poc"]||[]).push([[0],{212:function(e,t,n){e.exports=n(274)},217:function(e,t,n){},219:function(e,t,n){},274:function(e,t,n){"use strict";n.r(t);var o=n(2),r=n.n(o),a=n(206),c=n.n(a),i=(n(217),n(7)),s=n.n(i),u=n(25),l=n(207),d=n(208),m=n(211),f=n(210),h=(n(219),n(16)),g=n(209),p=n.n(g),v=(n(273),new h.ConsoleLogger("Chime Logs",h.LogLevel.INFO)),b=new h.DefaultDeviceController(v),w=function(e){Object(m.a)(n,e);var t=Object(f.a)(n);function n(e){var o;return Object(l.a)(this,n),(o=t.call(this,e)).getConfigs=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("http://localhost:4000/").then((function(e){t=JSON.parse(e.data.body),console.log(t),o.setState({meeting:t.meeting,attendee:t.attendee})}));case 2:case"end":return e.stop()}}),e)}))),o.connectToChimeMeeting=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.MeetingSessionConfiguration(o.state.meeting,o.state.attendee),n=new h.DefaultMeetingSession(t,v,b),console.log("Starting the Chime meeting!"),n.audioVideo.start(),e.next=6,o.setState({session:n});case 6:case"end":return e.stop()}}),e)}))),o.broadcastVideo=function(e,t){e.audioVideo.startContentShare(t).then((function(e){console.log(e)}))},o.displaySharedVideoContent=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={videoTileDidUpdate:function(e){console.log("Received content with ID:",e.tileId);var n=document.getElementById("my-video-element");t.audioVideo.bindVideoElement(e.tileId,n)}},e.next=3,t.audioVideo.addObserver(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.trigger=function(){document.getElementById("buttn").click()},o.openFullscreen=function(){var e=document.getElementById("my-video-element");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},o.getReady=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getConfigs();case 2:return e.sent,e.next=5,o.connectToChimeMeeting();case 5:return e.sent,e.next=8,o.displaySharedVideoContent(o.state.session);case 8:e.sent;case 9:case"end":return e.stop()}}),e)}))),o.state={meeting:"None",attendee:"None",session:"",isFullscreen:"NO"},o.webcamRef=r.a.createRef(),o}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getReady()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null," CODA CHIME POC "),r.a.createElement("input",{type:"button",onClick:function(){return e.getConfigs()},style:{backgroundColor:"chocolate",color:"white"},value:"Load confs"}),r.a.createElement("input",{type:"button",onClick:function(){return e.connectToChimeMeeting()},style:{backgroundColor:"chocolate",color:"white"},value:"Connect chime"}),r.a.createElement("input",{type:"button",onClick:function(){return e.displaySharedVideoContent(e.state.session)},style:{backgroundColor:"chocolate",color:"white"},value:"Make streamer ready"}),r.a.createElement("input",{type:"button",onClick:function(){return e.broadcastVideo(e.state.session,e.webcamRef.current.stream)},style:{backgroundColor:"violet",color:"white"},value:"Start streaming"}),r.a.createElement("input",{type:"button",id:"buttn",onClick:function(){return e.openFullscreen()},style:{backgroundColor:"violet",color:"white"},value:"Enter fullscreen"}),r.a.createElement("video",{id:"my-video-element"}))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[212,1,2]]]);
//# sourceMappingURL=main.3986ec1b.chunk.js.map