(this["webpackJsonpchime-poc"]=this["webpackJsonpchime-poc"]||[]).push([[0],{226:function(e,t,n){e.exports=n(290)},231:function(e,t,n){},290:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(222),i=n.n(r);n(231),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=n(224),s=n(3),u=n(6),l=n.n(u),d=n(14),h=n(39),m=n(40),g=n(43),f=n(42),p=n(12),v=n(41),w=n.n(v),b=new p.ConsoleLogger("Chime Logs",p.LogLevel.INFO),C=new p.DefaultDeviceController(b),y=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(e){var o;return Object(h.a)(this,n),(o=t.call(this,e)).getConfigs=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("http://localhost:4000/").then((function(e){t=JSON.parse(e.data.body),console.log(t),o.setState({meeting:t.meeting,attendee:t.attendee})}));case 2:case"end":return e.stop()}}),e)}))),o.connectToChimeMeeting=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new p.MeetingSessionConfiguration(o.state.meeting,o.state.attendee),n=new p.DefaultMeetingSession(t,b,C),console.log("Starting the Chime meeting!"),e.next=5,n.audioVideo.start();case 5:o.setState({session:n});case 6:case"end":return e.stop()}}),e)}))),o.displaySharedVideoContent=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={videoTileDidUpdate:function(e){console.log("Received content with ID:",e.tileId);var n=document.getElementById("my-video-element");t.audioVideo.bindVideoElement(e.tileId,n)}},e.next=3,t.audioVideo.addObserver(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.getReady=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getConfigs();case 2:return e.next=4,o.connectToChimeMeeting();case 4:return e.next=6,o.displaySharedVideoContent(o.state.session);case 6:case"end":return e.stop()}}),e)}))),o.state={meeting:"None",attendee:"None",session:"",isFullscreen:"NO"},o}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.getReady()}},{key:"render",value:function(){return a.a.createElement("div",{style:{background:"#000",display:"flex",width:"100vw",height:"100vh"}},a.a.createElement("video",{style:{width:"100%",height:"100%"},id:"my-video-element"}))}}]),n}(a.a.Component),O=n(223),k=n.n(O),x=new p.ConsoleLogger("Chime Logs",p.LogLevel.INFO),E=new p.DefaultDeviceController(x),S=function(e){Object(g.a)(n,e);var t=Object(f.a)(n);function n(e){var o;return Object(h.a)(this,n),(o=t.call(this,e)).getConfigs=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("http://localhost:4000/").then((function(e){t=JSON.parse(e.data.body),console.log(t),o.setState({meeting:t.meeting,attendee:t.attendee})}));case 2:case"end":return e.stop()}}),e)}))),o.connectToChimeMeeting=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new p.MeetingSessionConfiguration(o.state.meeting,o.state.attendee),n=new p.DefaultMeetingSession(t,x,E),console.log("Starting the Chime meeting!"),n.audioVideo.start(),e.next=6,o.setState({session:n});case 6:case"end":return e.stop()}}),e)}))),o.broadcastVideo=function(e,t){e.audioVideo.startContentShare(t).then((function(e){console.log(e)}))},o.displaySharedVideoContent=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={videoTileDidUpdate:function(e){console.log("Received content with ID:",e.tileId);var n=document.getElementById("my-video-element");t.audioVideo.bindVideoElement(e.tileId,n)}},e.next=3,t.audioVideo.addObserver(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.state={meeting:"None",attendee:"None",session:""},o.webcamRef=a.a.createRef(),o}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("h1",null," CODA CHIME POC "),a.a.createElement(k.a,{ref:this.webcamRef,videoConstraints:{width:1280,height:720,facingMode:"user"},audio:!0})," ",a.a.createElement("br",null),a.a.createElement("input",{type:"button",onClick:function(){return e.getConfigs()},style:{backgroundColor:"chocolate",color:"white"},value:"Load confs"}),a.a.createElement("input",{type:"button",onClick:function(){return e.connectToChimeMeeting()},style:{backgroundColor:"chocolate",color:"white"},value:"Connect chime"}),a.a.createElement("input",{type:"button",onClick:function(){return e.broadcastVideo(e.state.session,e.webcamRef.current.stream)},style:{backgroundColor:"violet",color:"white"},value:"Start streaming"}))}}]),n}(a.a.Component),j=a.a.createElement(c.a,null,a.a.createElement("div",{style:{width:"100%",height:"100%"}},a.a.createElement(s.a,{exact:!0,path:"/",component:y}),a.a.createElement(s.a,{exact:!0,path:"/Stream",component:S})));i.a.render(j,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[226,1,2]]]);
//# sourceMappingURL=main.b9e81bf7.chunk.js.map